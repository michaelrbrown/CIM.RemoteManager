<?xml version="1.0" encoding="UTF-8"?>
<ContentView xmlns="http://xamarin.com/schemas/2014/forms" 
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CIM.RemoteManager.Core.Templates.SensorItemTemplate">

    <ContentView.Content>

        <StackLayout Spacing="0" Padding="0" Margin="0" Opacity=".95">

            <Grid Style="{DynamicResource CardStyle}">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="75" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="120" />
                    <ColumnDefinition Width="5" />
                </Grid.ColumnDefinitions>

                <!-- Margin: left, top, right, bottom -->
                <Image Grid.Column="0" Source="temperatureSensor.png" Aspect="AspectFit" Scale="1" />

                <StackLayout Grid.Column="1" Spacing="0" HeightRequest="100" VerticalOptions="Center">
                    <Label Text="{Binding Name}" Style="{DynamicResource NameStyle}" VerticalOptions="Center" LineBreakMode="TailTruncation" />
                    <Label Text="{Binding SensorType}" Style="{DynamicResource SensorTypeStyle}" VerticalOptions="Center" LineBreakMode="TailTruncation" />
                    <Label Text="{Binding DateTimeStamp, StringFormat='{}{0:hh\\:mm\\:ss tt}'}" Style="{DynamicResource TimeStampStyle}" VerticalOptions="Center" LineBreakMode="TailTruncation" />
                </StackLayout>

                <StackLayout Grid.Column="2" Spacing="0">
                    <Frame Style="{DynamicResource ValueBoxStyle}" Opacity=".7" HeightRequest="30" WidthRequest="100" CornerRadius="20" HasShadow="False" OutlineColor="{DynamicResource OutlineColor}" VerticalOptions="CenterAndExpand" HorizontalOptions="CenterAndExpand">
                        <Label Text="{Binding AverageValue}" Style="{DynamicResource ValueStyle}" LineBreakMode="NoWrap" HorizontalTextAlignment="Center" HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" />
                    </Frame>
                </StackLayout>

            </Grid>

            <BoxView Style="{DynamicResource LightShadowStyle}"></BoxView>

            <Grid Style="{DynamicResource Footer}">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <StackLayout Grid.Column="0" Spacing="0">
                    <Label Text="{Binding SensorIndex}" Style="{DynamicResource SerialNumberStyle}" IsVisible="False" HorizontalTextAlignment="Start" VerticalTextAlignment="Center" LineBreakMode="TailTruncation" />
                    <Label Text="{Binding SerialNumber}" Style="{DynamicResource SerialNumberStyle}" HorizontalTextAlignment="Start" VerticalTextAlignment="Center" LineBreakMode="TailTruncation" />
                </StackLayout>

                <StackLayout Grid.Column="1" Spacing="0">
                    <Label Text="{Binding AlarmStatus, Converter={StaticResource AlarmStatusConverter}}" VerticalOptions="Center" Style="{DynamicResource StatusStyle}" TextColor="{Binding AlarmStatus, Converter={StaticResource AlarmStatusColorConverter}}" HorizontalTextAlignment="End" VerticalTextAlignment="Center" />
                </StackLayout>

            </Grid>

        </StackLayout>

    </ContentView.Content>

</ContentView>